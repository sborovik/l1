---
- hosts: jenkins
  name: Deploy Jenkins
  remote_user: ubuntu
  become: true
  tasks:
  - name: Run Jenkins Docker container
    shell: docker run \
        --rm \
        -d \
        -p 8080:8080 \
        -v /var/run/docker.sock:/var/run/docker.sock \
        -v jenkins-data:/var/jenkins_home \
        jenkins/jenkins:lts
    # args:
    #   creates: /var/run/docker.sock
